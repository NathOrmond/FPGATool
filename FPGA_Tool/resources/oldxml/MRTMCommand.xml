<?xml version="1.0" encoding="UTF-8"?>
<!--Sample XML file generated by XMLSpy v2012 sp1 (http://www.altova.com)-->
<MRTMCommands xsi:noNamespaceSchemaLocation="MRTMCommandProfile.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" endian="BIG" IPaddress="172.17.56.21" IPport="60074">
<FileDetails BlockSize="512">
        <MrtmFlashMap BuildNumberMask="0x0f" BuildNumberShift="28" SectorNumberMask="0x1f" SectorNumberShift="20" PageNumberMask="0xffff" PageNumberShift="4" />
</FileDetails>
<Sequence id="eraseBuild">EraseBuild</Sequence> 
<Sequence id="eraseSector">EraseBuild</Sequence> 
<Sequence id="loadFile">LoadFile</Sequence> 
<Sequence id="status">StatusRegister</Sequence> 
<Sequence id="statusoffline">offlineStatusRegister</Sequence> 
<Sequence id="flashBuild">flashBuild</Sequence> 
<Sequence id="runBuild">runBuild</Sequence> 
<Sequence id="LoadWFGFile">LoadWFGFile</Sequence>
<Sequence id="currentBuild">currentBuild</Sequence>

<StartSequence mode="Live">LiveDataMode DataOn ClockON</StartSequence>
<StartSequence mode="Standby">DataOn ClockOFF</StartSequence>
<StopSequence>DataOff ClockOFF</StopSequence>
<CommonResponseHeader seq="
        HWID=SCAP;
        ^TID;
        ^CMID;
        0x$$$$$$$$=4;
        @HDR;
        @HDR;
        @HDR;
        @HDR;
        @HDR;
"/>


<CmdRsp id="EraseBuild">
        <Command repeatTime="0" ackTime="0.2" statusCmd="StatusRegister_Erase" ackExpected="true" seq=" 
        0xCCCC;
        ^TID; 
        SCAP;
        ^CMID=ERAS; 
        0x10100000;
        0x40160217;
        0x00000080;
        0x10100000;
        0x40160006;
        0x00000000;
        0x10100000;
        0x40164000;
        $EraseBuildNumber;
        0x401620DC;
        0x00000000;
        0x40160305;
        0x00000001;
        0x10200000;
        0x90160000;
        0x50178070;
        0x20168034;
        0x00000000;"/>
        <Response   seq="
               @HDR;
               @HDR=BT;
                %SR1=%%WIP=1%%WEL=1%%BPX=0%%E_ERR=0%%P_ERR=0%%SRWD=0;
        "/>
</CmdRsp>
<CmdRsp id="EraseSector">
        <Command repeatTime="0" ackTime="0.2" statusCmd="StatusRegister" ackExpected="true" seq=" 
        0xCCCC;
        ^TID; 
        SCAP;
        ^CMID=ERAS; 
        0x10100000;
        0x40160217;
        0x00000080;
        0x10100000;
        0x40160006;
        0x00000000;
        0x10100000;
        0x40164000;
        $EraseBuildNumber+%d1;
        0x401620DC;
        0x00000000;
        0x40160305;
        0x00000001;
        0x10200000;
        0x90160000;
        0x50178070;
        0x20168034;
        0x00000000;"/>
        <Response print="false"  seq="
               @HDR;
               @HDR=BT;
                %SR1=%%WIP=1%%WEL=1%%BPX=0%%E_ERR=0%%P_ERR=0%%SRWD=0;
        "/>
</CmdRsp>

<CmdRsp id="LoadFile">
        <Command  responseId="LoadFileResp" repeatTime="0"  ackTime="0.2"  statusCmd="StatusRegister" ackExpected="true" seq="
                0xCCCC;
                ^TID; 
                SCAP;
                ^CMID=LOAD; 
                0x40160217;
                0x00000080;
                0x10100000;
                0x40160006;
                0x00000000;
                0x10100000;
                0x40160401;
                0x000002C2;
                0x10100000;
                0x40160006;
                0x00000000;
                0x10100000;
                0x40164000;
                $ProgramBuildNumber;
                0x48062834;
                FILE;
                0x40160305;
                0x00000001;
                0x10100000;
                0x90160000;
                0x50178070;
                0x20168032;
                0x00000000;"/>
       <Response  seq="
                @HDR;
                @HDR=BT;
                %SR1=%%WIP=1%%WEL=1%%BPX=0%%E_ERR=0%%P_ERR=0%%SRWD=0;
        "/>

</CmdRsp>

<CmdRsp id="LoadWFGFile">
        <Command  repeatTime="0"  ackTime="0.2"  statusCmd="StatusRegister" ackExpected="false" seq="
                0xCCCC;
                ^TID; 
                SCAP;
                ^CMID=USER; 
                FILE;
                0x20168039;
                0x00000000;"/>
       <Response  seq="
                @HDR;
                @HDR=BT;
                %SR1=%%WIP=1%%WEL=1%%BPX=0%%E_ERR=0%%P_ERR=0%%SRWD=0;
        "/>

</CmdRsp>

<CmdRsp  id="StatusRegister_Erase" >
        <Command responseId="StatusRegisterResp"  ackTime="0.50" repeatTime="0.5" cmdRetryCount="800" seq="
                0xCCCC;
                ^TID;
                SCAP;
                ^CMID=STRD;
                0x10100000;
        	0x40160305;
        	0x00000001;
        	0x10200000;
        	0x90160000;
        	0x50178070;
        	0x20168035;
        	0x00000000;"/>
        <Response print="false"  seq="
                @HDR;
                @HDR=BT;
                %SR1=%%WIP=0%%WEL=0%%BPX=0%%E_ERR=0%%P_ERR=0%%SRWD=0;
        "/>
</CmdRsp>

<CmdRsp  id="StatusRegister" >
        <Command responseId="StatusRegisterResp"  ackTime="0.50" repeatTime="0.01" cmdRetryCount="800" seq="
                0xCCCC;
                ^TID;
                SCAP;
                ^CMID=STRD;
                0x10100000;
        	0x40160305;
        	0x00000001;
        	0x10200000;
        	0x90160000;
        	0x50178070;
        	0x20168035;
        	0x00000000;"/>
        <Response print="false"  seq="
                @HDR;
                @HDR=BT;
                %SR1=%%WIP=0%%WEL=0%%BPX=0%%E_ERR=0%%P_ERR=0%%SRWD=0;
        "/>
</CmdRsp>


<CmdRsp  id="runBuild" >
        <Command responseId="runBuild" ackExpected="false"  ackTime="0.50" repeatTime="0.01" cmdRetryCount="800" seq="
                0xCCCC;
                ^TID;
                SCAP;
                ^CMID=BOOT;
                0x41008023;
        	0xAA995566;
        	0x20000000;
        	0x30020001;
        	^BOOT=-build-number;
        	0x30008001;
        	0x0000000F;
  		0x20000000;
  		0x20000000;"/>
        <Response  seq="
                @HDR;
                @HDR=BT;
                %SR1=%%WIP=0%%WEL=0%%BPX=0%%E_ERR=0%%P_ERR=0%%SRWD=0;
        "/>
</CmdRsp>

<CmdRsp  id="flashBuild" >
        <Command   ackTime="0.50" repeatTime="0.01" cmdRetryCount="800" seq="
                0xCCCC;
                ^TID;
                SCAP;
                ^CMID=RDBF;
                0x40160006;
        	0x00000000;
        	0x10100000;
        	0x40164000;
        	^FLASHCONFIG=-build-number;
        	0x4016296C;
        	0x00000010;
        	0x10100000;
        	0x91060000;
        	0x51078050;
        	0x20168036;
        	0x00000000;"/>
        <Response print="true"  seq="
                @HDR;
                @HDR=BT;
                $VersionInfo=64;
        "/>
</CmdRsp>

<CmdRsp  id="currentBuild" >
        <Command  responseId="readCurrentBuild"  ackTime="0.50" repeatTime="0.01" cmdRetryCount="800" seq="
                0xCCCC;
                ^TID;
                SCAP;
                ^CMID=RDBC;
                0x20168038;
        	0x00000000;"/>
        <Response print="true"  seq="
                @HDR;
                @HDR=BT;
                $VersionInfo=64;
        "/>
</CmdRsp>

<CmdRsp  id="polldevice" >
        <Command responseId="StatusRegisterResp"  ackTime="0.99" repeatTime="60.1" cmdRetryCount="9999999" seq="
                0xCCCC;
                ^TID;
                SCAP;
                ^CMID=FPOL;
                0x10100000;
        	0x90160000;
        	0x50178070;
        	0x20168037;
        	0x00000000;"/>
        <Response  seq="
                @HDR;
                @HDR=BT;
                %SR1=%%WIP=0%%WEL=1%%BPX=2%%E_ERR=0%%P_ERR=0%%SRWD=0;
        "/>
</CmdRsp>

<CmdRsp  id="offlineStatusRegister" >
        <Command responseId="StatusRegisterResp"  ackTime="1" repeatTime="0.1" cmdRetryCount="1" seq="
                0xCCCC;
                ^TID;
                SCAP;
                ^CMID=STAT;
                0x10100000;
                0x40160006;
                0x00000000;
                0x10100000;
        	0x40160305;
        	0x00000001;
        	0x10200000;
        	0x90160000;
        	0x50178070;
        	0x00000000;"/>
        <Response  print="true" seq="
                @HDR;
                @HDR=BT;
                %SR1=%%WIP=0%%WEL=1%%BPX=2%%E_ERR=0%%P_ERR=0%%SRWD=0;
        "/>
</CmdRsp>

<registerDefinition id="SR1" register="0x5">
        <field  token="SRWD" mask="0x1" shift="7"  type="enum" displayName="Status Reg Write Disable">
                <i2s val="0" handle="Locked"/>
                <i2s val="1" handle="None"/>
        </field>                
        <field token="P_ERR" mask="0x1" shift="6" type="enum" displayName="Programming Error Occurred">
                        <i2s val="0" handle="No"/>
                        <i2s val="1" handle="Yes" isBad="true"/>
        </field>                      
        <field token="E_ERR" mask="0x1" shift="5"  type="enum" displayName="Erase Error Occurred">
                        <i2s val="0" handle="No"/>
                        <i2s val="1" handle="Yes" isBad="true"/>
        </field>
        <field token="BPX" mask="0x7" shift="2"  type="decimal" displayName="Block Protection"/>
        <field token="WEL" mask="0x1" shift="1" type="enum" displayName="Write Enable Latch">
                        <i2s val="0" handle="Ignore Writes"/>
                        <i2s val="1" handle="Accept Writes"/>
        </field>
        <field token="WIP" mask="0x1" shift="0" type="enum" displayName="Write In Progress">
                        <i2s val="0" handle="Ready"/>
                        <i2s val="1" handle="Busy"/>
        </field>
</registerDefinition>

<bootStartAddress>0x00000000</bootStartAddress>
<bootStartAddress>0x00008000</bootStartAddress>
<bootStartAddress>0x00010000</bootStartAddress>
<bootStartAddress>0x00018000</bootStartAddress>
<bootStartAddress>0x00020000</bootStartAddress>
<bootStartAddress>0x00028000</bootStartAddress>
<bootStartAddress>0x00030000</bootStartAddress>
<bootStartAddress>0x00038000</bootStartAddress>

<flashConfigAddress>0x000ffff4</flashConfigAddress>
<flashConfigAddress>0x100ffff4</flashConfigAddress>
<flashConfigAddress>0x200ffff4</flashConfigAddress>
<flashConfigAddress>0x300ffff4</flashConfigAddress>
<flashConfigAddress>0x400ffff4</flashConfigAddress>
<flashConfigAddress>0x500ffff4</flashConfigAddress>
<flashConfigAddress>0x600ffff4</flashConfigAddress>
<flashConfigAddress>0x700ffff4</flashConfigAddress>

<buttonToSequenceMap button="PollRegion" Sequence="flashBuild"/>
<buttonToSequenceMap button="EraseRegion" Sequence="eraseBuild"/>
<buttonToSequenceMap button="ExecuteRegion" Sequence="runBuild"/>
<buttonToSequenceMap button="Current" Sequence="currentBuild"/>
<buttonToSequenceMap button="Download" Sequence="loadFile"/>
</MRTMCommands>